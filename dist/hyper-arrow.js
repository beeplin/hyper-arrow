function c(e,t,n,r){this[L]=e,this[O]=t,this[W]=n,this[$]=r}function p(e){return"string"==typeof e?[null,e,{},[],S]:e}function e(e,t,n={}){z=n[R],h,i(u.querySelector(e),[t]),h}function n(t,e){return v([null,null,t,e]),()=>{for(var e of C.keys())e[2]===t&&C.delete(e)}}function v(e){var t,n=e[2];return"function"!=typeof n?n:(t=j,j=e,e=n(),j=t,e)}function o(e){return e!==P(e)||J(e)?e:new t(e,{get(e,t){var n,r;return t===G||(n=k.get(e,t),"function"==typeof e&&"prototype"===t?n:(j&&(h,C.has(j)||C.set(j,new WeakMap),(r=C.get(j))&&(r.has(e)||r.set(e,new Set),null!=(r=r.get(e)))&&r.add(t),q.has(e)||q.set(e,P.create(null)),r=q.get(e))&&(t in r||(r[t]=new WeakSet),r[t].add(j)),o(n)))},set(e,t,n){var r,o,l,i,u=k.get(e,t),f=k.set(e,t,n);if(u!==n||x(e)&&t===b)for(var[a,s]of C.entries())null!=(s=s.get(e))&&s.has(t)&&(h,[s,r,o,l]=a,i=s,a=v(a),h,s?"number"==typeof r||null===r&&("string"==typeof a||a instanceof c)?(s=null!=r?r:0,y(i[$][s]),d(i,s,p(a))):null===r?(i[$].map(y),B(i,a.map(p))):g(i[E],r,a):null!=l&&l(a));return f},deleteProperty(e,t){var n,r,o,l=k.deleteProperty(e,t);h;for(o of C.values())null!=(n=o.get(e))&&n.delete(t);return null!=(r=q.get(e))&&delete r[t],l}})}function y(e){for(var t of C.keys())n=t,r=e,n[F]&&r[E].contains(null==(r=n[F])?void 0:r[E])&&C.delete(t);var n,r}function i(e,t){if(e.append(...t.map(l).map(e=>e[E])),h)for(var n of Array.from(e.children));}function l(e){return(e[L]===S?e=>{var t=u.createTextNode(e[r]);return h,s(e,t)}:e=>{var t,n,r,o="html"===e[L]?u.createElement(e[O]):"svg"===e[L]?u.createElementNS("http://www.w3.org/2000/svg",e[O]):u.createElementNS("http://www.w3.org/1998/Math/MathML",e[O]);for(r in h,z&&f(o,z,V++),e[W])g(o,r,e[W][r]);h,i(o,e[$]);var l=s(e,o);return"number"==typeof l[W][N]&&a(l[$])&&(l[T]={}),null!=(n=(t=l[W])[D])&&n.call(t,o),l})(e)}function s(e,t){return(e[E]=t)[Z]=e}function B(n,r){var t=a(n[$]),o=a(r);if(t&&o){for(let e=t[b]-1;0<=e;e--)o.includes(t[e])||w(n,e);for(let[e,t]of o.entries()){var l=r[e],i=n[$].findIndex(e=>e[W].id===t);(e===i?d:n[$][i]?(m(n,e,w(n,i)),d):null!=(i=n[T])&&i[t]?(m(n,e,n[T][t]),d):m)(n,e,l)}}else{var u=r[b],f=n[$][b];for(let e=0;e<u||e<f;e++)e<u&&e<f?d(n,e,r[e]):e>=f?m(n,e,r[e]):w(n,f+u-1-e)}}function d(e,t,n){var r=e[$][t];if(r[L]!==S&&n[L]!==S&&r[O]===n[O]){var o,l,i=r[E];for(o in n[W])r[W][o]!==n[W][o]&&g(i,o,n[W][o]);for(l in r[W])if(!(l in n[W])){var u=void 0,u=i,f=l,a=_(f);if(a in u.attributes)A(u,a);else{a=[...f].reduce((e,t)=>"A"<=t&&t<="Z"?e+"-"+_(t):e+t,"");if(a in u.attributes)A(u,a);else if(f in K){a=K[f];A(u,a)}else if("_"===f[0]){a=M(f);A(u,a)}else{if("$"!==f[0])throw Error(`unknown prop '${f}' to unset from <${u.nodeName}>`);a=M(f);u.style.removeProperty(a)}}h}["innerText","innerHTML","textContent"].some(e=>e in n[W])||B(r,n[$]),e[$][t]=s(n,r[E])}else w(e,t),m(e,t,n)}function m(e,t,n){var r=e[E],n=n[E]?n:l(n),o=n[E];r.insertBefore(o,r.childNodes.item(t)),h,e[$].splice(t,0,n),e[T]&&(o=n[W].id,h&&0 in e[T],delete e[T][o])}function w(e,t){var n,t=e[$].splice(t,1)[0];return t[E].remove(),h,e[T]&&null!=e[W][N]&&P.keys(e[T]).length<e[W][N]&&(n=t[W].id,h&&0 in t[W],e[T][n]=t),t}function g(e,t,n){!function e(t,n){var r;return n in t?(r=P.getOwnPropertyDescriptor(t,n))?P.entries(r).map(([e,t])=>t?e:null).filter(e=>e):(r=P.getPrototypeOf(t))?e(r,n):[]:[]}(e,t).includes("set")?"$"===t[0]?e.style.setProperty(M(t),n):"_"===t[0]?f(e,M(t),n):f(e,t,n):e[t]=n,h}function a(e){var t=e.map(e=>e[W].id).filter(e=>"string"==typeof e);return t[b]===e[b]&&t[b]===new Set(t).size?t:null}let h=!0,b="length",S="text",P=Object,t=Proxy,k=Reflect,u=document,x=Array.isArray,M=e=>e.slice(1),_=e=>e.toLowerCase(),f=(e,t,n)=>e.setAttribute(t,n),A=(e,t)=>e.removeAttribute(t),D=Symbol(),N=Symbol(),E=0,O=1,r=1,W=2,$=3,L=4,T=5,F=0,j=null,C=new Map,q=new WeakMap,H=new t({},{get:(e,n)=>new t({},{get:(e,t)=>function(e,t,...n){h&&(I=I&&!1);var r,o,l=new c(e,t,P.create(null),[]),[i,e]="object"!=typeof n[0]||x(n[0])||n[0]instanceof c?[{},n]:[n[0],M(n)];for(r of P.getOwnPropertySymbols(i))l[W][r]=i[r];for(o in i)o.startsWith("on")?l[W][_(o)]=i[o]:l[W][o]=v([l,o,i[o]]);var u,t=v([l,null,x(e)&&1===e[b]&&("function"==typeof e[0]||x(e[0]))?e[0]:e]),f=x(t)?t:[t];for(u in f)l[$].push(p(v([l,+u,f[u]])));return l}.bind(null,n,t)})}),I=!0,R=Symbol(),z,V=0,Z="__hyper_arrow__",G=Symbol(Z),J=e=>!!e[G],K={defaultValue:"value",htmlFor:"for",className:"class"};export { N as CACHE_REMOVED_CHILDREN, D as ON_CREATE, R as UID_ATTR_NAME, c as VEl, C as fawc2ropas, J as isReactive, e as mount, o as reactive, q as ropa2fawcs, H as tags, n as watch }
