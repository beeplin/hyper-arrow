function e(e=!0){w=e}function s(e,t,n,r){this[L]=e,this[E]=t,this[W]=n,this[$]=r}function c(e){return"string"==typeof e?[null,e,{},[],h]:e}function n(e,t,n={}){z=n[Z],w,l(u.querySelector(e),[t]),w}function r(t,e){return p([null,null,t,e]),()=>{for(var e of C.keys())e[2]===t&&C.delete(e)}}function p(e){var t,n=e[2];return"function"!=typeof n?n:(t=j,j=e,e=n(),j=t,e)}function o(e){return e!==b(e)||Q(e)?e:new t(e,{get(e,t){var n,r;return t===K||(n=S.get(e,t),"function"==typeof e&&"prototype"===t?n:(j&&(w,C.has(j)||C.set(j,new WeakMap),(r=C.get(j))&&(r.has(e)||r.set(e,new Set),null!=(r=r.get(e)))&&r.add(t),q.has(e)||q.set(e,b.create(null)),r=q.get(e))&&(t in r||(r[t]=new WeakSet),r[t].add(j)),o(n)))},set(e,t,n){var r,o,l,i=S.get(e,t),u=S.set(e,t,n);if(i!==n||P(e)&&t===g){w;for(var[f,a]of C.entries())null!=(a=a.get(e))&&a.has(t)&&(w,[a,r,,o]=f,l=a,f=p(f),w,a?"number"==typeof r||null===r&&("string"==typeof f||f instanceof s)?(a=null!=r?r:0,v(l[$][a]),y(l,a,c(f))):null===r?(l[$].map(v),B(l,f.map(c))):D(l,r,f):null!=o&&o(f))}return u},deleteProperty(e,t){var n,r,o,l=S.deleteProperty(e,t);w;for(o of C.values())null!=(n=o.get(e))&&n.delete(t);return null!=(r=q.get(e))&&delete r[t],l}})}function v(e){for(var t of C.keys())n=t,r=e,n[I]&&r[A].contains(null==(r=n[I])?void 0:r[A])&&C.delete(t);var n,r}function l(e,t){e.append(...t.map(i).map(e=>(w,e[A])))}function i(e){return(e[L]===h?e=>{var t=u.createTextNode(e[O]);return w,f(e,t)}:e=>{var t,n,r="html"===e[L]?u.createElement(e[E]):"svg"===e[L]?u.createElementNS("http://www.w3.org/2000/svg",e[E]):u.createElementNS("http://www.w3.org/1998/Math/MathML",e[E]),o=(w,f(e,r));for(n in z&&M(r,z,G++),o[W])F(o,n,o[W][n]),w;return w,l(r,e[$]),"number"==typeof o[W][N]&&m(o[$])&&(o[T]={}),null!=(t=(e=o[W])[H])&&t.call(e,r),o})(e)}function f(e,t){return(e[A]=t)[J]=e}function B(n,r){var t=m(n[$]),o=m(r);if(t&&o){for(let e=t[g]-1;0<=e;e--)o.includes(t[e])||d(n,e);for(let[e,t]of o.entries()){var l=r[e],i=n[$].findIndex(e=>e[W].id===t);(e===i?y:n[$][i]?(a(n,e,d(n,i)),y):null!=(i=n[T])&&i[t]?(a(n,e,n[T][t]),y):a)(n,e,l)}}else{var u=r[g],f=n[$][g];for(let e=0;e<u||e<f;e++)e<u&&e<f?y(n,e,r[e]):e>=f?a(n,e,r[e]):d(n,f+u-1-e)}}function y(e,t,n){var r=e[$][t];if(r[L]===h&&n[L]===h)r[O]!==n[O]&&(w,r[A].data=n[O]),e[$][t]=f(n,r[A]);else if(r[L]!==h&&n[L]!==h&&r[E]===n[E]){for(var o in n[W])D(r,o,n[W][o]);for(var l in r[W])if(!(l in n[W])){var i=void 0,i=r[A],u=x(l);if(u in i.attributes)_(i,u);else{u=[...l].reduce((e,t)=>"A"<=t&&t<="Z"?e+"-"+x(t):e+t,"");if(u in i.attributes)_(i,u);else if(l in U){u=U[l];_(i,u)}else if("_"===l[0]){u=k(l);_(i,u)}else{if("$"!==l[0])throw Error(`unknown prop '${l}' to unset from <${i.nodeName}>`);u=k(l);i.style.removeProperty(u)}}w}["innerText","innerHTML","textContent"].some(e=>e in n[W])||B(r,n[$]),e[$][t]=f(n,r[A])}else d(e,t),a(e,t,n)}function a(e,t,n){var r=e[A],n=n[A]?n:i(n),o=n[A];r.insertBefore(o,r.childNodes.item(t)),e[$].splice(t,0,n),e[T]&&((o=n[W].id)in e[T],delete e[T][o]),w}function d(e,t){var n,t=e[$].splice(t,1)[0];return t[A].remove(),e[T]&&null!=e[W][N]&&b.keys(e[T]).length<e[W][N]&&(n=t[W].id,e[T][n]=t),w,t}function D(e,t,n){e[W][t]!==n&&(F(e,t,n),w)}function F(e,t,n){e[W][t]=n;e=e[A];!function e(t,n){var r;return n in t?(r=b.getOwnPropertyDescriptor(t,n))?b.entries(r).map(([e,t])=>t?e:null).filter(e=>e):(r=b.getPrototypeOf(t))?e(r,n):[]:[]}(e,t).includes("set")?"$"===t[0]?e.style.setProperty(k(t),n):"_"===t[0]?M(e,k(t),n):M(e,t,n):e[t]=n}function m(e){var t=e.map(e=>e[W].id).filter(e=>"string"==typeof e);return t[g]===e[g]&&t[g]===new Set(t).size?t:null}let w=!1,g="length",h="text",b=Object,t=Proxy,S=Reflect,u=document,P=Array.isArray,k=e=>e.slice(1),x=e=>e.toLowerCase(),M=(e,t,n)=>e.setAttribute(t,n),_=(e,t)=>e.removeAttribute(t),H=Symbol(),N=Symbol(),A=0,E=1,O=1,W=2,$=3,L=4,T=5,I=0,j=null,C=new Map,q=new WeakMap,R=new t({},{get:(e,n)=>new t({},{get:(e,t)=>function(e,t,...n){w&&(V=V&&!1);var r,o,l=new s(e,t,b.create(null),[]),[i,e]="object"!=typeof n[0]||P(n[0])||n[0]instanceof s?[{},n]:[n[0],k(n)];for(r of b.getOwnPropertySymbols(i))l[W][r]=i[r];for(o in i)o.startsWith("on")?l[W][x(o)]=i[o]:l[W][o]=p([l,o,i[o]]);var u,t=p([l,null,P(e)&&1===e[g]&&("function"==typeof e[0]||P(e[0]))?e[0]:e]),f=P(t)?t:[t];for(u in f)l[$].push(c(p([l,+u,f[u]])));return l}.bind(null,n,t)})}),V=!0,Z=Symbol(),z,G=0,J="__hyper_arrow__",K=Symbol(J),Q=e=>!!e[K],U={defaultValue:"value",htmlFor:"for",className:"class"};export{e as debug,H as ON_CREATE,N as CACHE_REMOVED_CHILDREN,s as VEl,C as fawc2ropas,q as ropa2fawcs,R as tags,Z as UID_ATTR_NAME,n as mount,r as watch,Q as isReactive,o as reactive};